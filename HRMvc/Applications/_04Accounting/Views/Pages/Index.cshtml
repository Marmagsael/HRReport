@using HRApiLibrary.DataAccess._00_Main
@using HRApiLibrary.DataAccess._00_Main.Interface
@using HRApiLibrary.DataAccess._20_Pay.Interface
@using HRApiLibrary.Models._00_Main
@using System.Security.Claims

@using HRMvc.Applications._04Accounting.Views.BlazorPages._410; 

@inject I_00MainDA                  _mainDA
@inject I_AcctgTableMaker           _acctg; 

@{
    Layout = "~/Views/Shared/Main/_04AccountingLayout_V1.cshtml";
    var userid = User.Claims.Where(c => c.Type == "UserId").FirstOrDefault();

    IEnumerable<Claim?>     claims      = User.Claims;
    var  userClaims  =      _mainDA._02UserClaimsContent(claims);

    if (userClaims != null && userClaims.SchemaUserPay != null)
    {
        
        await _acctg.AccountingTableMaker(userClaims.SchemaUserAcctg, userClaims.Conn); 
        //await _acctg.AccountingTableMaker(userClaims.SchemaUserPis!, userClaims.Conn!);
    }
}

<div>Accounting Db : @userClaims.SchemaUserAcctg ** Pay Db : @userClaims.SchemaUserPay  </div>
@(await Html.RenderComponentAsync<_411TransactionDashboard>(RenderMode.ServerPrerendered, new { UserClaims = userClaims }))